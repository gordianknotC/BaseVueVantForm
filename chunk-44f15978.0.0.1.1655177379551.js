(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44f15978"],{"01cc":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("ac84"),a=n("2d58"),r=(n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("f2bf")),c=function(){function e(){Object(o["a"])(this,e),this.vModelEvents=new Set}return Object(a["a"])(e,[{key:"asVModel",value:function(e){var t,n=e.props,o=e.propName,a=e.emit,c=e.onSet,l=e.onChange,i="update:".concat(o);return this.vModelEvents.add(i),Object(r["computed"])({get:function(){return t!=n[o]&&(null===l||void 0===l||l(n[o])),t=n[o]},set:function(e){null===c||void 0===c||c(e),null===l||void 0===l||l(e),a(i,e)}})}},{key:"hideAutoFillBackground",value:function(e,t){null!==t&&void 0!==t||(t=function(){var t;return e.value=null!==(t=e.value)&&void 0!==t?t:""}),e.addEventListener("animationstart",(function(e){e.animationName.toLowerCase();t()}))}}]),e}()},"0a50":function(e,t,n){"use strict";n("5b83")},"0f98":function(e,t,n){"use strict";var o=n("2d58"),a=n("ac84"),r=n("f2bf"),c=n("afbc"),l=n("b7f3"),i=n("33e5"),s=Object(o["a"])((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;Object(a["a"])(this,e),this.maxHorizontalItems=n,this.recommendFollowingCards=Object(r["computed"])((function(){var e,n=t.info.state.recommendation;return console.log("recommendFollowingCards:",n),null!==(e=null===n||void 0===n?void 0:n.data)&&void 0!==e?e:[]})),this.hasRecommendations=Object(r["computed"])((function(){var e,n,o;return(null!==(o=null===(n=null===(e=t.recommendFollowingCards)||void 0===e?void 0:e.value)||void 0===n?void 0:n.length)&&void 0!==o?o:0)>0})),this.hasFollowings=Object(r["computed"])((function(){var e,n,o;return(null!==(o=null===(n=null===(e=t.state.followingCards)||void 0===e?void 0:e.data)||void 0===n?void 0:n.length)&&void 0!==o?o:0)>0})),this.hasFollowers=Object(r["computed"])((function(){var e,n,o;return(null!==(o=null===(n=null===(e=t.state.followerCards)||void 0===e?void 0:e.data)||void 0===n?void 0:n.length)&&void 0!==o?o:0)>0})),this.onToggleFollowingListTile=function(e){c["a"].push({name:l["a"].playerDetail,params:{member_id:e}})},this.info=i["a"],this.state=Object(r["reactive"])({followingCards:Object(r["toRef"])(this.info.state,"followings"),followerCards:Object(r["toRef"])(this.info.state,"followers"),recommendationPageCards:Object(r["toRef"])(this.info.state,"recommendation")}),console.log("info:",i["a"])})),u=function(){return new s};t["a"]=u},"5b83":function(e,t,n){},"5bc7":function(e,t,n){},"6ce2":function(e,t,n){"use strict";n("b0c0");var o=n("f2bf");function a(e,t,n,a,r,c){var l=Object(o["resolveComponent"])("ProjectImage"),i=Object(o["resolveComponent"])("van-image");return e.imgUrl?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,width:e.size,height:e.size,fit:"contain",src:e.imgUrl,round:""},{error:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{width:e.size,height:e.size,name:e.name,round:""},null,8,["width","height","name"])]})),_:1},8,["width","height","src"])):(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,width:e.size,height:e.size,name:e.name,round:""},null,8,["width","height","name"]))}var r=n("d70b"),c=n("57ab"),l=Object(o["defineComponent"])({name:"AvatarImage",components:{ProjectImage:c["a"]},props:{avatarPath:{type:String,default:""},size:{type:String,default:"40"},name:{type:String,default:function(){return"avatar.svg"}}},setup:function(e){var t=Object(o["computed"])((function(){return e.avatarPath?r["s"]+e.avatarPath:""}));return{imgUrl:t}}}),i=n("6b0d"),s=n.n(i);const u=s()(l,[["render",a]]);t["a"]=u},"7b35":function(e,t,n){"use strict";n.r(t);var o=n("f2bf"),a=function(e){return Object(o["pushScopeId"])("data-v-011d5cfa"),e=e(),Object(o["popScopeId"])(),e},r={key:0,class:"listTile"},c={class:"listTile__title"},l={class:"listTile__content"},i={key:1},s=a((function(){return Object(o["createElementVNode"])("div",{class:"listTile__title"},null,-1)})),u={class:"listTile__content"},d={key:2},m=a((function(){return Object(o["createElementVNode"])("div",{class:"listTile__title"},null,-1)})),b={class:"listTile__content"},f={key:0},p={key:1};function g(e,t,n,a,g,h){var v=Object(o["resolveComponent"])("BaseNavBar"),O=Object(o["resolveComponent"])("van-search"),j=Object(o["resolveComponent"])("MemberListTile"),w=Object(o["resolveComponent"])("AppPageTemplate");return Object(o["openBlock"])(),Object(o["createBlock"])(w,{"use-padding":!0},{header:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{"left-text":e.$i18n.$t("findFollower")},null,8,["left-text"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("section",null,[Object(o["createVNode"])(O,{modelValue:e.keyword,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.keyword=t}),onInput:e.onSearch,clearable:!1,placeholder:e.$i18n.$t("enterEmailOrInvitationCode")},null,8,["modelValue","onInput","placeholder"]),Object(o["createElementVNode"])("section",null,[e.hasRecommendations&&e.searchResetResult?(Object(o["openBlock"])(),Object(o["createElementBlock"])("section",r,[Object(o["createElementVNode"])("div",c,Object(o["toDisplayString"])(e.$i18n.$t("recommendToYou")),1),Object(o["createElementVNode"])("div",l,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.recommendationPageCards.data,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(j,{isFollowed:t.is_follow,"onUpdate:isFollowed":function(e){return t.is_follow=e},key:n,username:t.username||t.phone||t.email||"Guest",level:t.level,avatarPath:t.avatar,onClick:function(){return e.onToggleFollowingListTile(t.member_id)},onToggleFollowing:function(n){return e.onToggleRecommendation(t,t.member_id)}},null,8,["isFollowed","onUpdate:isFollowed","username","level","avatarPath","onClick","onToggleFollowing"])})),128))])])):e.searchWithResult?(Object(o["openBlock"])(),Object(o["createElementBlock"])("section",i,[s,Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(j,{class:"card__listTile",isFollowed:e.member.is_follow,"onUpdate:isFollowed":t[1]||(t[1]=function(t){return e.member.is_follow=t}),username:e.member.username||e.member.phone||e.member.email||"Guest",level:e.member.member_id,avatarPath:e.member.avatar,onClick:t[2]||(t[2]=function(){return e.onToggleFollowingListTile(e.member.member_id)}),onToggleFollowing:t[3]||(t[3]=function(t){return e.onToggleRecommendation(e.member,e.member.member_id)})},null,8,["isFollowed","username","level","avatarPath"])])])):Object(o["createCommentVNode"])("",!0),e.searchNoResult?(Object(o["openBlock"])(),Object(o["createElementBlock"])("section",d,[m,Object(o["createElementVNode"])("div",b,[e.keyword.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",f,Object(o["toDisplayString"])(e.$i18n.$t("noResultFoundFor"))+' "'+Object(o["toDisplayString"])(e.keyword)+'"',1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",p,Object(o["toDisplayString"])(e.$i18n.$t("noResultFound")),1))])])):Object(o["createCommentVNode"])("",!0)])])]})),_:1})}var h=n("b192"),v=n("7580"),O=(n("96cf"),n("2383")),j=n("b7f3"),w=n("afbc"),k=n("0f98"),y=n("7c73d"),B=n("3bac"),F=n("2ef0"),S=n.n(F),R=n("6c02"),x=n("4c65"),C=n("ca83"),_=Object(o["defineComponent"])({name:"FollowRecommendation",components:{AppPageTemplate:O["a"],MemberListTile:y["a"],BaseNavBar:x["a"]},setup:function(){var e=20,t=Object(k["a"])(),n=Object(o["reactive"])({keyword:"",currentPage:1,member:{},searchStage:C["b"].initial});Object(R["onBeforeRouteUpdate"])(Object(v["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return console.log("onBeforeRouteUpdate"),o.next=3,t.info.actions.updateFollowRecommendation("",n.currentPage,e);case 3:case"end":return o.stop()}}),o)})))),Object(o["onMounted"])(Object(v["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.info.actions.updateFollowRecommendation("",n.currentPage,e);case 2:console.log("mixin",t);case 3:case"end":return o.stop()}}),o)}))));var a=S.a.debounce(Object(v["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(console.log("searchDebouncer:",n.keyword),0!==n.keyword.length){o.next=6;break}return n.searchStage=C["b"].initial,o.next=5,t.info.actions.updateFollowRecommendation("",n.currentPage,e);case 5:return o.abrupt("return");case 6:return o.prev=6,n.searchStage=C["b"].searching,o.next=10,B["a"].getSearchMember({keyword:n.keyword});case 10:a=o.sent,n.member=a.data,n.searchStage=C["b"].hasResult,o.next=18;break;case 15:o.prev=15,o.t0=o["catch"](6),n.searchStage=C["b"].noResult;case 18:return o.abrupt("return",a);case 19:case"end":return o.stop()}}),o,null,[[6,15]])}))),300);return Object(h["a"])(Object(h["a"])(Object(h["a"])({},Object(o["toRefs"])(n)),Object(o["toRefs"])(t.state)),{},{canShowMore:Object(o["computed"])((function(){t.state.followingCards;return!0})),hasRecommendations:t.hasRecommendations,hasFollowers:t.hasFollowers,maxHorizontalItems:t.maxHorizontalItems,RouterNames:j["a"],onToggleFollowingListTile:t.onToggleFollowingListTile,onToggleRecommendation:function(e,o){return Object(v["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("onToggleRecommendation",n,o),a.abrupt("return",t.info.actions.toggleRecommendation(e,o));case 2:case"end":return a.stop()}}),a)})))()},onChangeIsFollowing:function(e,n){var o=t.info.state.members.firstWhere((function(e){return e.member_id===n}));o.is_follow=e},onRouteToFindFollowers:function(){w["a"].push({name:j["a"].recommends})},onSearch:function(){console.log("search:",n.keyword,a),n.searchStage=C["b"].searching,a()},searchNoResult:Object(o["computed"])((function(){return n.searchStage===C["b"].noResult})),searchWithResult:Object(o["computed"])((function(){return n.searchStage===C["b"].hasResult})),searching:Object(o["computed"])((function(){return n.searchStage===C["b"].searching})),searchResetResult:Object(o["computed"])((function(){return n.searchStage===C["b"].initial}))})}}),T=(n("0a50"),n("6b0d")),N=n.n(T);const V=N()(_,[["render",g],["__scopeId","data-v-011d5cfa"]]);t["default"]=V},"7c73d":function(e,t,n){"use strict";var o=n("f2bf"),a={class:"listTile"},r={class:"listTile__container"},c={class:"listTile__user"},l={class:"username"},i={class:"listTile__controls"};function s(e,t,n,s,u,d){var m=Object(o["resolveComponent"])("AvatarImage"),b=Object(o["resolveComponent"])("base-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("section",r,[Object(o["createVNode"])(m,{name:"avatar.png",avatarPath:e.avatarPath},null,8,["avatarPath"]),Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",l,Object(o["toDisplayString"])(e.username),1)]),Object(o["createElementVNode"])("div",i,[e.pIsFollow?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,onClick:Object(o["withModifiers"])(e.onAlreadyFollowing,["stop"]),surfaceShader:!0,shadowShader:!0,size:"normal"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])("".concat(e.$i18n.$t("following"))),1)]})),_:1},8,["onClick"])):(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1,onClick:Object(o["withModifiers"])(e.onFollow,["stop"]),surfaceShader:!1,shadowShader:!0,size:"normal"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])("".concat(e.$i18n.$t("follow"))),1)]})),_:1},8,["onClick"]))])])])}n("a9e3");var u=n("01cc"),d=n("6ce2"),m=n("ed48"),b=n("d03e"),f=Object(o["defineComponent"])({name:"MemberListTile",inheritAttrs:!0,components:{AvatarImage:d["a"],FlatButton:m["a"],BaseButton:b["a"]},props:{avatarPath:{type:String,default:""},username:{type:String,default:""},level:{type:Number,default:1},isFollowed:{type:Boolean,default:!1}},emits:["toggleFollowing","update:isFollowed"],setup:function(e,t){var n=t.emit,o=new u["a"],a=o.asVModel({props:e,propName:"isFollowed",emit:n});return{pIsFollow:a,onAlreadyFollowing:function(){console.log("pIsFolow:",a.value),n("toggleFollowing",!1),a.value=!1},onFollow:function(){console.log("pIsFolow:",a.value),n("toggleFollowing",!0),a.value=!0}}}}),p=(n("83c3"),n("6b0d")),g=n.n(p);const h=g()(f,[["render",s],["__scopeId","data-v-324536c2"]]);t["a"]=h},"83c3":function(e,t,n){"use strict";n("5bc7")},9739:function(e,t,n){},bef3:function(e,t,n){"use strict";n("9739")},ca83:function(e,t,n){"use strict";var o,a;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),function(e){e[e["loading"]=0]="loading",e[e["ready"]=1]="ready"}(o||(o={})),function(e){e[e["initial"]=0]="initial",e[e["searching"]=1]="searching",e[e["noResult"]=2]="noResult",e[e["hasResult"]=3]="hasResult"}(a||(a={}))},ed48:function(e,t,n){"use strict";var o=n("f2bf"),a=["disabled","type"];function r(e,t,n,r,c,l){var i=Object(o["resolveComponent"])("svg-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{class:Object(o["normalizeClass"])(["flat-button",[{active:e.active,block:e.block,shadow:e.shadow,disabled:e.disabled,prefix:e.prefix,suffix:e.suffix,loading:e.loading},"flat-button--".concat(e.color),"flat-button--".concat(e.type),"flat-button--".concat(e.size)]]),disabled:e.disabled,type:e.nativeType},[Object(o["renderSlot"])(e.$slots,"loading",{},(function(){return[e.loading?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"loading-icon animate-spin",name:"loading",width:"16px",height:"16px"})):Object(o["createCommentVNode"])("",!0)]}),!0),Object(o["renderSlot"])(e.$slots,"prefix",{},(function(){return[e.prefix?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"prefix-icon",name:e.prefix,width:e.iconSize+"px",height:e.iconSize+"px"},null,8,["name","width","height"])):Object(o["createCommentVNode"])("",!0)]}),!0),Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(o["renderSlot"])(e.$slots,"suffix",{},(function(){return[e.suffix?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,class:"suffix-icon",name:e.suffix,width:e.iconSize+"px",height:e.iconSize+"px"},null,8,["name","width","height"])):Object(o["createCommentVNode"])("",!0)]}),!0)],10,a)}n("a9e3");var c=Object(o["defineComponent"])({name:"FlatButton",props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary",validator:function(e){return-1!==["primary","secondary","light","dark"].indexOf(e)}},block:{type:Boolean,default:!1},type:{type:String,default:"normal",validator:function(e){return-1!==["text","normal"].indexOf(e)}},shadow:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:function(e){return-1!==["medium","large","small"].indexOf(e)}},prefix:{type:String,default:""},suffix:{type:String,default:""},loading:{type:Boolean,default:!1},nativeType:{type:String,default:""},iconSize:{type:Number,default:18}},setup:function(){return{}}}),l=(n("bef3"),n("6b0d")),i=n.n(l);const s=i()(c,[["render",r],["__scopeId","data-v-d65d8290"]]);t["a"]=s}}]);