(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08507400"],{"36f9":function(e,t,o){"use strict";o.r(t);var a=o("f2bf"),n={class:"m-6"},c={class:"text-label text-sm"},s={class:"text-center text-primary mt-8"},r={key:0},i={class:"px-4"},l={class:"my-4 text-base"},d={class:"flex justify-center items-center h-full"},u={class:"card flex justify-center items-center flex-col"},b={class:"mb-2 font-bold"},m={class:"font-light"};function f(e,t,o,f,p,v){var O=Object(a["resolveComponent"])("BaseNavBar"),g=Object(a["resolveComponent"])("BaseForm"),j=Object(a["resolveComponent"])("MessageComponent"),_=Object(a["resolveComponent"])("FlatButton"),E=Object(a["resolveComponent"])("AppPageTemplate"),h=Object(a["resolveComponent"])("svg-icon"),P=Object(a["resolveComponent"])("van-overlay");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(E,null,{header:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(O,{"left-text":e.$i18n.$t("accountInformation")},null,8,["left-text"])]})),footer:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(_,{class:"mb-6",block:!0,onClick:e.model.submit},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",l,Object(a["toDisplayString"])(e.$i18n.$t("createAccount")),1)]})),_:1},8,["onClick"])])]})),default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",n,[Object(a["createVNode"])(g,{model:e.model},{submitFooter:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("p",c,Object(a["toDisplayString"])(e.$i18n.$t("ifInvitedFriend")),1),Object(a["createElementVNode"])("p",s,Object(a["toDisplayString"])(e.loading?e.$i18n.$t("loading"):""),1)]})),_:1},8,["model"]),""!=e.errorText?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",r,[Object(a["createVNode"])(j,{class:"fiexBottom",messageText:e.errorText,messageType:3,onCloseMessage:e.closeMessageFun},null,8,["messageText","onCloseMessage"])])):Object(a["createCommentVNode"])("",!0)])]})),_:1}),Object(a["createVNode"])(P,{show:e.showSuccessDialog,onClick:e.onDialogClick},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",u,[Object(a["createVNode"])(h,{class:"mb-6",name:"check",width:74,height:74}),Object(a["createElementVNode"])("div",b,Object(a["toDisplayString"])(e.$i18n.$t("verifySuccess")),1),Object(a["createElementVNode"])("p",m,Object(a["toDisplayString"])(e.$i18n.$t("successfullyCreateAccount")),1)])])]})),_:1},8,["show","onClick"])],64)}var p=o("b192"),v=(o("ac1f"),o("5319"),o("86b9")),O=o("b7f3"),g=o("5e3a"),j=o("6c02"),_=o("e824"),E=o("2383"),h=o("ac84"),P=o("2d58"),V=o("c20e"),C=o("e5cd"),x=o("0384"),N=o("a007"),S=o("e3fc"),k=o("7775"),A=o("7b8e"),B=o("cb08"),y=o("1988"),T=o("6fb3"),U=o("0613"),w=o("4dd0"),D=function(e){Object(N["a"])(o,e);var t=Object(S["a"])(o);function o(e){var n,c;Object(h["a"])(this,o);var s=Object(U["b"])(),r=s.user,i=Object(B["a"])(["phone","password","confirm_password","otp","referral_code","visitor_id","zone_id"]),l=w["get"]("visitor_id"),d=w["get"]("zone_id");return i.visitor_id.value=l||"",i.visitor_id.disabled=!0,i.zone_id.value=d||"",i.zone_id.disabled=!0,i.phone.value=null===(c=r.actions.getPhoneAndPass())||void 0===c?void 0:c.phone,i.phone.disabled=!0,i.otp.value=r.actions.getOtp(),i.otp.hidden=!0,n=t.call(this,Object.assign(null!==e&&void 0!==e?e:{},{state:i,rules:k["c"],messages:Object(k["a"])(y["b"].languageService),title:Object(a["computed"])((function(){return y["b"].languageService.txt.editRemark})),request:y["b"].apiService.signUp,onClose:function(e){e.resetState(),e.config.visible.value=!1},onVisible:function(e,t){},onBeforeVisible:function(e,t){e.resetState(t)}})),Object(T["a"])(Object(V["a"])(n)),n}return Object(P["a"])(o,[{key:"getPayload",value:function(){var e=Object(C["a"])(Object(x["a"])(o.prototype),"getPayload",this).call(this);return delete e.confirm_password,e.referral_code||delete e.referral_code,e.referral_code||delete e.referral_code,e}}]),o}(A["a"]),M=o("488f"),R=o("0c9e"),$=o("ed48"),z=o("d892"),I=o("0032"),F=o("4c65"),J=Object(a["defineComponent"])({name:"CreateAccount",components:{SvgIcon:I["a"],NormalButton:v["a"],BaseForm:g["a"],AppPageTemplate:E["a"],VarificationCheck:M["a"],FlatButton:$["a"],MessageComponent:z["a"],BaseNavBar:F["a"]},props:{},setup:function(e){var t=Object(j["useRouter"])(),o=Object(a["ref"])(!1),n=Object(a["ref"])(!1),c=Object(U["b"])(),s=c.user,r=Object(a["computed"])((function(){return s.actions.getPhoneAndPass()})),i=Object(a["reactive"])({errorText:""}),l=new D({onSubmit:function(e){var o;return console.warn("onSubmit:",e),e.succeed&&(R["a"].signup({referral_code:null!==(o=Object({VUE_APP_ENV:"development",VUE_APP_ADJUST:"false",VUE_APP_PROJECT:"pavo11",VUE_APP_MOBILE:"false",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_USER_CODE)&&void 0!==o?o:r.value.referral_code,zone_id:w["get"]("zone_id")?w["get"]("zone_id"):"",visitor_id:w["get"]("visitor_id")?w["get"]("visitor_id"):""}),w["remove"]("visitor_id"),w["remove"]("zoneid"),n.value=!0,y["b"].apiService.SignInWithPhone({phone:l.state.phone.value,password:l.state.password.value}).then((function(e){var t=e,o=e.data.username;o&&(R["a"].login(o),s.actions.setUserData(t.data),s.actions.removePhoneAndPass())})).catch((function(e){_["a"].errorMessageToast(e),s.actions.removePhoneAndPass(),t.replace({name:O["a"].signIn})}))),!0},onBeforeSubmit:function(){o.value=!0},onAfterSubmit:function(){o.value=!1},onCatchSubmit:function(e){o.value=!1,i.errorText=e.data.error_msg,_["a"].errorMessageToast(e),setTimeout((function(){i.errorText=""}),2e3)}}),d=function(){t.replace({name:O["a"].signUp})},u=function(){i.errorText=""};return Object(a["onMounted"])((function(){Object({VUE_APP_ENV:"development",VUE_APP_ADJUST:"false",VUE_APP_PROJECT:"pavo11",VUE_APP_MOBILE:"false",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_USER_CODE?(l.state.referral_code.value=Object({VUE_APP_ENV:"development",VUE_APP_ADJUST:"false",VUE_APP_PROJECT:"pavo11",VUE_APP_MOBILE:"false",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_USER_CODE,l.state.referral_code.disabled=!0):r.value.referral_code&&(l.state.referral_code.value=r.value.referral_code,l.state.referral_code.disabled=!0),r.value.phone&&(l.state.phone.value=r.value.phone)})),Object(p["a"])(Object(p["a"])({},Object(a["toRefs"])(i)),{},{showSuccessDialog:n,loading:o,RouterNames:O["a"],model:l,back:d,closeMessageFun:u,onDialogClick:function(){console.log("clicked"),n.value=!1,setTimeout((function(){t.replace({name:O["a"].home})}),500)}})}}),L=(o("3ecc"),o("6b0d")),W=o.n(L);const q=W()(J,[["render",f],["__scopeId","data-v-a09fb280"]]);t["default"]=q},"3ecc":function(e,t,o){"use strict";o("a7bf")},8990:function(e,t,o){"use strict";o("b9a0")},a7bf:function(e,t,o){},b9a0:function(e,t,o){},d892:function(e,t,o){"use strict";var a=o("f2bf"),n={class:"messageBox__text"};function c(e,t,o,c,s,r){var i=Object(a["resolveComponent"])("svg-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["messageBox",{bgWhite:1===e.messageType,bgGreen:2===e.messageType,bgRed:3===e.messageType}])},[Object(a["createElementVNode"])("div",n,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.messageText)+" ",1),Object(a["renderSlot"])(e.$slots,"link",{},void 0,!0)]),Object(a["createElementVNode"])("div",{class:"messageBox__close",onClick:t[0]||(t[0]=function(){return e.closeMessageEmit&&e.closeMessageEmit.apply(e,arguments)})},[1===e.messageType?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,name:"close",size:20})):(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1,name:"close-white",size:20}))])],2)}o("a9e3");var s=o("0032"),r=Object(a["defineComponent"])({name:"MessageComponent",emits:["closeMessage"],components:{SvgIcon:s["a"]},props:{messageText:{type:String,default:"Your password has been changed"},messageType:{type:Number,default:2}},setup:function(e,t){var o=t.emit,a=function(){console.log("closeMessage"),o("closeMessage")};return{closeMessageEmit:a}}}),i=(o("8990"),o("6b0d")),l=o.n(i);const d=l()(r,[["render",c],["__scopeId","data-v-259647a6"]]);t["a"]=d}}]);