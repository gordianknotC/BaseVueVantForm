(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32dda3ff"],{"045c":function(e,t,n){"use strict";n.r(t);var a=n("f2bf"),o={class:"p-6"};function c(e,t,n,c,r,s){var i=Object(a["resolveComponent"])("BaseNavBar"),u=Object(a["resolveComponent"])("AlterUsernameForm"),b=Object(a["resolveComponent"])("AppPageTemplate");return Object(a["openBlock"])(),Object(a["createBlock"])(b,null,{header:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(i,{"left-text":e.$i18n.$t("change nickname")},null,8,["left-text"]),Object(a["createElementVNode"])("div",o,[Object(a["createVNode"])(u,{model:e.model},null,8,["model"])])]})),_:1})}var r=n("b192"),s=n("7580"),i=(n("96cf"),n("2383")),u=n("0613"),b=n("6c02"),l={class:"text-center"},d={class:"my-4 text-base"};function m(e,t,n,o,c,r){var s=Object(a["resolveComponent"])("base-button"),i=Object(a["resolveComponent"])("BaseForm");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{model:e.model},{submitFooter:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("p",l,Object(a["toDisplayString"])(e.isLoading?e.$i18n.$t("loading"):""),1),Object(a["createVNode"])(s,{class:"bottom",size:"normal",surfaceShader:!1,shadowShader:!0,disabled:!e.model.canSubmit.value,onClick:e.model.submit},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",d,Object(a["toDisplayString"])(e.$i18n.$t("save")),1)]})),_:1},8,["disabled","onClick"])]})),_:1},8,["model"])}var f=n("5e3a"),p=n("ed48"),j=n("d03e"),O=n("e824"),v=Object(a["defineComponent"])({name:"AlterUsernameForm",components:{BaseForm:f["a"],FlatButton:p["a"],BaseButton:j["a"]},props:{model:{type:Object,required:!0}},setup:function(e){var t=Object(a["ref"])(!1);return Object(a["onMounted"])((function(){console.log("SignInForm model:",e.model)})),{isLoading:t,onToast:function(){O["a"].successToast("helwo efweoi felo",{duration:1e8})}}}}),g=(n("3b28"),n("6b0d")),h=n.n(g);const w=h()(v,[["render",m],["__scopeId","data-v-3e7d6c41"]]);var k=w,S=n("1988"),B=n("b7f3"),C=n("6034"),x=n("4c65"),N=n("2d58"),F=n("ac84"),A=n("c20e"),I=n("a007"),R=n("e3fc"),T=n("7775"),_=n("7b8e"),U=n("cb08"),V=n("6fb3"),$=function(e){Object(I["a"])(n,e);var t=Object(R["a"])(n);function n(e){var o;return Object(F["a"])(this,n),o=t.call(this,Object.assign(null!==e&&void 0!==e?e:{},{state:Object(U["a"])(["nickname"]),rules:T["c"],messages:Object(T["a"])(S["b"].languageService),title:Object(a["computed"])((function(){return S["b"].languageService.txt.changeName})),request:S["b"].apiService.updateInfo})),Object(V["a"])(Object(A["a"])(o)),o}return Object(N["a"])(n)}(_["a"]),y=n("57ab"),E=Object(a["defineComponent"])({name:"UserChangeName",components:{AlterUsernameForm:k,AppPageTemplate:i["a"],BaseNavBar:x["a"],ProjectImage:y["a"]},setup:function(){var e=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.actions.updateUserInfo();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(u["b"])(),n=t.user,o=t.info,c=Object(b["useRouter"])(),i=(Object(C["a"])(),Object(a["ref"])(!1)),l=Object(a["reactive"])({nickname:Object(a["computed"])((function(){return o.state.nickname})),errorText:""}),d=new $({onSubmit:function(e,t){return S["b"].apiService.isErrorResponse(e)?O["a"].errorMessageToast(e):(n.actions.setUserData(e.data),O["a"].successToast(S["b"].languageService.txt.success)),!0},onBeforeSubmit:function(){i.value=!0},onAfterSubmit:function(){i.value=!1},onCatchSubmit:function(e){i.value=!1,O["a"].errorMessageToast(e.data.error_msg)}}),m=function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(e){n.actions.setEditAvatar(e.target.result),c.push({name:B["a"].previewProfileImage})}};return Object(a["onMounted"])((function(){e(),d.state.nickname.value=l.nickname})),Object(r["a"])(Object(r["a"])({},Object(a["toRefs"])(l)),{},{loading:i,RouterNames:B["a"],model:d,editImage:m,computed:a["computed"]})}});n("3cb1");const D=h()(E,[["render",c],["__scopeId","data-v-61ba0439"]]);t["default"]=D},"08b2":function(e,t,n){},2821:function(e,t,n){},"3b28":function(e,t,n){"use strict";n("08b2")},"3cb1":function(e,t,n){"use strict";n("2821")}}]);