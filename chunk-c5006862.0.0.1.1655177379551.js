(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5006862"],{"0513":function(e,t,o){"use strict";o.r(t);var n=o("f2bf");function a(e,t,o,a,c,s){var r=Object(n["resolveComponent"])("BaseNavBar"),l=Object(n["resolveComponent"])("AlterPasswordForm"),i=Object(n["resolveComponent"])("AppPageTemplate");return Object(n["openBlock"])(),Object(n["createBlock"])(i,null,{header:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(r,{"left-text":e.$i18n.$t("resetPassword")},null,8,["left-text"])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{class:"pt-4",model:e.model},null,8,["model"])]})),_:1})}var c=o("b192"),s=(o("ac1f"),o("5319"),o("2383")),r=o("1988"),l=o("381c"),i=o("6034"),u=o("e824"),d=o("0613"),b=o("d892"),m=o("6c02"),p=o("3cd2"),f=o("4c65"),O=o("ac84"),j=o("2d58"),g=o("c20e"),v=o("e5cd"),w=o("0384"),y=o("a007"),B=o("e3fc"),h=o("7775"),k=o("7b8e"),C=o("cb08"),_=o("6fb3"),S=o("21d1"),x=function(e){Object(y["a"])(o,e);var t=Object(B["a"])(o);function o(e){var a;return Object(O["a"])(this,o),a=t.call(this,Object.assign(null!==e&&void 0!==e?e:{},{state:Object(C["a"])(["password","confirm_password","phone","otp"]),rules:h["c"],messages:Object(h["a"])(r["b"].languageService),title:Object(n["computed"])((function(){return r["b"].languageService.txt.editRemark})),request:r["b"].apiService.resetPasswordPhone})),a.state.phone.hidden=!0,a.state.otp.hidden=!0,a.state.otp.value=S["a"].actions.getOtp(),a.state.phone.value=S["a"].actions.getPhoneAndPass().phone,Object(_["a"])(Object(g["a"])(a)),a}return Object(j["a"])(o,[{key:"getPayload",value:function(){var e=Object(v["a"])(Object(w["a"])(o.prototype),"getPayload",this).call(this);return delete e.confirm_password,e}}]),o}(k["a"]),N=o("b7f3"),T=Object(n["defineComponent"])({name:"UpdatePassword",components:{BaseNavBar:f["a"],AppPageTemplate:s["a"],userForm:l["a"],MessageComponent:b["a"],AlterPasswordForm:p["a"]},setup:function(){var e=Object(d["b"])(),t=e.user,o=Object(m["useRouter"])(),a=(Object(i["a"])(),Object(n["ref"])(!1)),s=Object(n["reactive"])({errorText:""}),l=new x({onSubmit:function(e,n){return r["b"].apiService.isErrorResponse(e)?u["a"].errorMessageToast(e):(u["a"].successToast(r["b"].languageService.txt.success),setTimeout((function(){t.actions.logout((function(){o.replace({name:N["a"].signIn})}))}),1e3)),!0},onBeforeSubmit:function(){a.value=!0},onAfterSubmit:function(){a.value=!1},onCatchSubmit:function(e){a.value=!1,u["a"].errorMessageToast(e)}});return Object(c["a"])(Object(c["a"])({},Object(n["toRefs"])(s)),{},{loading:a,model:l})}}),V=(o("45eb"),o("6b0d")),I=o.n(V);const E=I()(T,[["render",a],["__scopeId","data-v-20e06fb3"]]);t["default"]=E},"381c":function(e,t,o){"use strict";var n=o("f2bf"),a={class:"mb-4"};function c(e,t,o,c,s,r){var l=Object(n["resolveComponent"])("base-input"),i=Object(n["resolveComponent"])("NormalButton"),u=Object(n["resolveComponent"])("van-form");return Object(n["openBlock"])(),Object(n["createBlock"])(u,{class:"container",onSubmit:e.model.submit,autocomplete:"off"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.model.getFields(),(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("section",a,[t.hidden?Object(n["createCommentVNode"])("",!0):Object(n["renderSlot"])(e.$slots,t.dataKey,{key:0,field:t},(function(){return[Object(n["createVNode"])(l,{class:"input__text",modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},type:t.fieldType,error:t.hasError,"error-message":t.fieldError,onInput:function(){return e.onNotify(t.dataKey)},label:e.formLabel(t.label)},null,8,["modelValue","onUpdate:modelValue","type","error","error-message","onInput","label"])]}),!0)])})),256)),Object(n["renderSlot"])(e.$slots,"submitFooter",{model:e.model},(function(){return[Object(n["createVNode"])(i,{text:e.$i18n.$t("logIn"),"native-type":"submit",onClick:e.model.submit,disabled:!e.model.canSubmit.value},null,8,["text","onClick","disabled"])]}),!0)]})),_:3},8,["onSubmit"])}var s=o("86b9"),r=o("cf34"),l=o("0a6d"),i=o("6034"),u=Object(n["defineComponent"])({name:"UserFormMod",props:{model:{type:Object,required:!0}},components:{NormalButton:s["a"],BaseInput:l["a"]},setup:function(e){var t=Object(i["a"])();return{title:Object(n["computed"])((function(){var t;return null!==(t=e.model.config.title.value)&&void 0!==t?t:""})),onNotify:function(t){console.log(t),"password"==t?(console.log("---",t,"password"),e.model.notifyOnInput("new_password")):"new_password"==t&&(console.log("---",t,"confirm_new_password"),e.model.notifyOnInput("confirm_new_password")),e.model.notifyOnInput(t)},toCamelCaseString:r["a"],formLabel:function(e){return"ind"===t.locale.value?e:t.$t(Object(r["a"])(e))}}}}),d=(o("f49e"),o("6b0d")),b=o.n(d);const m=b()(u,[["render",c],["__scopeId","data-v-36fd38a5"]]);t["a"]=m},"3cd2":function(e,t,o){"use strict";var n=o("f2bf"),a={class:"text-center"},c={class:"my-4 text-base"};function s(e,t,o,s,r,l){var i=Object(n["resolveComponent"])("base-button"),u=Object(n["resolveComponent"])("BaseForm");return Object(n["openBlock"])(),Object(n["createBlock"])(u,{model:e.model},{submitFooter:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("p",a,Object(n["toDisplayString"])(e.isLoading?e.$i18n.$t("loading"):""),1),Object(n["createVNode"])(i,{class:"bottom",size:"large",surfaceShader:!1,shadowShader:!0,disabled:!e.model.canSubmit.value,onClick:e.model.submit},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",c,Object(n["toDisplayString"])(e.$i18n.$t("change")),1)]})),_:1},8,["disabled","onClick"])]})),_:1},8,["model"])}var r=o("5e3a"),l=o("ed48"),i=o("d03e"),u=Object(n["defineComponent"])({name:"AlterPasswordForm",components:{BaseForm:r["a"],FlatButton:l["a"],BaseButton:i["a"]},props:{model:{type:Object,required:!0}},setup:function(e){var t=Object(n["ref"])(!1);return Object(n["onMounted"])((function(){console.log("SignInForm model:",e.model)})),{isLoading:t}}}),d=(o("8486"),o("6b0d")),b=o.n(d);const m=b()(u,[["render",s],["__scopeId","data-v-c4492456"]]);t["a"]=m},"45eb":function(e,t,o){"use strict";o("666f")},"666f":function(e,t,o){},"78c4":function(e,t,o){},8486:function(e,t,o){"use strict";o("78c4")},8990:function(e,t,o){"use strict";o("b9a0")},b9a0:function(e,t,o){},d79c:function(e,t,o){},d892:function(e,t,o){"use strict";var n=o("f2bf"),a={class:"messageBox__text"};function c(e,t,o,c,s,r){var l=Object(n["resolveComponent"])("svg-icon");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["messageBox",{bgWhite:1===e.messageType,bgGreen:2===e.messageType,bgRed:3===e.messageType}])},[Object(n["createElementVNode"])("div",a,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.messageText)+" ",1),Object(n["renderSlot"])(e.$slots,"link",{},void 0,!0)]),Object(n["createElementVNode"])("div",{class:"messageBox__close",onClick:t[0]||(t[0]=function(){return e.closeMessageEmit&&e.closeMessageEmit.apply(e,arguments)})},[1===e.messageType?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:0,name:"close",size:20})):(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:1,name:"close-white",size:20}))])],2)}o("a9e3");var s=o("0032"),r=Object(n["defineComponent"])({name:"MessageComponent",emits:["closeMessage"],components:{SvgIcon:s["a"]},props:{messageText:{type:String,default:"Your password has been changed"},messageType:{type:Number,default:2}},setup:function(e,t){var o=t.emit,n=function(){console.log("closeMessage"),o("closeMessage")};return{closeMessageEmit:n}}}),l=(o("8990"),o("6b0d")),i=o.n(l);const u=i()(r,[["render",c],["__scopeId","data-v-259647a6"]]);t["a"]=u},f49e:function(e,t,o){"use strict";o("d79c")}}]);