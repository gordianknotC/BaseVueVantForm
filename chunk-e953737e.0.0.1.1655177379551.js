(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e953737e"],{"01cc":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("ac84"),a=o("2d58"),l=(o("d3b7"),o("6062"),o("3ca3"),o("ddb0"),o("f2bf")),r=function(){function e(){Object(n["a"])(this,e),this.vModelEvents=new Set}return Object(a["a"])(e,[{key:"asVModel",value:function(e){var t,o=e.props,n=e.propName,a=e.emit,r=e.onSet,i=e.onChange,c="update:".concat(n);return this.vModelEvents.add(c),Object(l["computed"])({get:function(){return t!=o[n]&&(null===i||void 0===i||i(o[n])),t=o[n]},set:function(e){null===r||void 0===r||r(e),null===i||void 0===i||i(e),a(c,e)}})}},{key:"hideAutoFillBackground",value:function(e,t){null!==t&&void 0!==t||(t=function(){var t;return e.value=null!==(t=e.value)&&void 0!==t?t:""}),e.addEventListener("animationstart",(function(e){e.animationName.toLowerCase();t()}))}}]),e}()},"0f98":function(e,t,o){"use strict";var n=o("2d58"),a=o("ac84"),l=o("f2bf"),r=o("afbc"),i=o("b7f3"),c=o("33e5"),s=Object(n["a"])((function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;Object(a["a"])(this,e),this.maxHorizontalItems=o,this.recommendFollowingCards=Object(l["computed"])((function(){var e,o=t.info.state.recommendation;return console.log("recommendFollowingCards:",o),null!==(e=null===o||void 0===o?void 0:o.data)&&void 0!==e?e:[]})),this.hasRecommendations=Object(l["computed"])((function(){var e,o,n;return(null!==(n=null===(o=null===(e=t.recommendFollowingCards)||void 0===e?void 0:e.value)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0})),this.hasFollowings=Object(l["computed"])((function(){var e,o,n;return(null!==(n=null===(o=null===(e=t.state.followingCards)||void 0===e?void 0:e.data)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0})),this.hasFollowers=Object(l["computed"])((function(){var e,o,n;return(null!==(n=null===(o=null===(e=t.state.followerCards)||void 0===e?void 0:e.data)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0})),this.onToggleFollowingListTile=function(e){r["a"].push({name:i["a"].playerDetail,params:{member_id:e}})},this.info=c["a"],this.state=Object(l["reactive"])({followingCards:Object(l["toRef"])(this.info.state,"followings"),followerCards:Object(l["toRef"])(this.info.state,"followers"),recommendationPageCards:Object(l["toRef"])(this.info.state,"recommendation")}),console.log("info:",c["a"])})),u=function(){return new s};t["a"]=u},"390f":function(e,t,o){"use strict";o.r(t);var n=o("f2bf"),a=function(e){return Object(n["pushScopeId"])("data-v-1b2d4e92"),e=e(),Object(n["popScopeId"])(),e},l={key:0},r={key:0,class:"listTile"},i=a((function(){return Object(n["createElementVNode"])("div",{class:"listTile__title"},null,-1)})),c={class:"listTile__content"},s={key:1,class:"loading-wrapper"},u={key:2,class:"loading-wrapper"},d={key:1},f={class:"listTile__title"},b={class:"listTile__content"};function m(e,t,o,a,m,p){var g=Object(n["resolveComponent"])("BaseNavBar"),v=Object(n["resolveComponent"])("MemberListTile"),O=Object(n["resolveComponent"])("van-loading"),j=Object(n["resolveComponent"])("AppPageTemplate");return Object(n["openBlock"])(),Object(n["createBlock"])(j,{"use-padding":!0},{header:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{"left-text":e.$i18n.$t("follower")},null,8,["left-text"])]})),default:Object(n["withCtx"])((function(){return[e.hasFollowers?(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",l,[e.isInitLoading?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",r,[i,Object(n["createElementVNode"])("div",c,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.followers,(function(t,o){return Object(n["openBlock"])(),Object(n["createBlock"])(v,{isFollowed:t.is_follow,"onUpdate:isFollowed":function(e){return t.is_follow=e},key:o,username:t.username||t.phone||t.email||"Guest",level:t.level,avatarPath:t.avatar,onClick:function(o){return e.setPlayerPage(t)},onToggleFollowing:function(o){return e.onToggleFollowing(o,t.member_id)}},null,8,["isFollowed","onUpdate:isFollowed","username","level","avatarPath","onClick","onToggleFollowing"])})),128))])])),e.isInitLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[Object(n["createVNode"])(O,{color:"#1915bf"})])):Object(n["createCommentVNode"])("",!0),e.isLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",u,[Object(n["createVNode"])(O,{color:"#1915bf"})])):Object(n["createCommentVNode"])("",!0)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",d,[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(e.$i18n.$t("follower")),1)]),Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$i18n.$t("followerDescription")),1)])]))]})),_:1})}var p=o("b192"),g=o("0bd7"),v=o("7580"),O=(o("96cf"),o("e9c4"),o("99af"),o("2383")),j=o("b7f3"),w=o("afbc"),h=o("0f98"),k=o("7c73d"),y=o("b51d"),x=o("3bac"),B=o("4c65"),F=Object(n["defineComponent"])({name:"FollowerPage",components:{AppPageTemplate:O["a"],MemberListTile:k["a"],BaseNavBar:B["a"]},setup:function(){var e=Object(h["a"])(),t=Object(n["reactive"])({keyword:"",followers:[],currentPage:1,totalPage:50,isLoading:!1,isInitLoading:!1}),o=function(t){e.onToggleFollowingListTile(t.member_id),sessionStorage.setItem("followData",JSON.stringify(t))},a=function(){var o=Object(v["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(t.isLoading=!0,t.currentPage+=1,!(t.currentPage<=t.totalPage)){o.next=8;break}return n={page:t.currentPage},o.next=6,e.info.actions.updateUserFollowerInfo(!0,n);case 6:t.followers=[].concat(Object(g["a"])(t.followers),Object(g["a"])(e.info.state.followers.data)),e.info.state.followers;case 8:t.isLoading=!1;case 9:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();return Object(n["onMounted"])(Object(v["a"])(regeneratorRuntime.mark((function o(){var l,r,i,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.isInitLoading=!0,o.next=3,e.info.actions.updateUserFollowerInfo();case 3:if(t.followers=e.state.followerCards.data,t.totalPage=e.state.followerCards.pager.pages,t.isInitLoading=!1,!(t.totalPage>1&&t.currentPage<t.totalPage)){o.next=9;break}return o.next=9,a();case 9:l=Object(n["ref"])(document.getElementById("main")),r=function(){var e;null===(e=l.value)||void 0===e||e.addEventListener("scroll",c)},i=function(){var e;null===(e=l.value)||void 0===e||e.removeEventListener("scroll",c)},c=function(e){if(e.target.scrollTop+e.target.clientHeight===e.target.scrollHeight){if(t.currentPage>=t.totalPage)return void i();a()}},r(),Object(n["watch"])((function(){return t.currentPage}),(function(e,o){t.currentPage>=t.totalPage&&i()}));case 15:case"end":return o.stop()}}),o)})))),Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(n["toRefs"])(t)),Object(n["toRefs"])(e.state)),{},{canShowMore:Object(n["computed"])((function(){e.state.followingCards;return!0})),recommendFollowingCards:e.recommendFollowingCards,hasRecommendations:e.hasRecommendations,hasFollowers:e.hasFollowers,maxHorizontalItems:e.maxHorizontalItems,RouterNames:j["a"],onToggleFollowingListTile:e.onToggleFollowingListTile,onToggleFollowing:function(t,o){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return n.next=3,x["a"].postFollow({member_id:o});case 3:return n.next=5,e.info.actions.updateUserFollowerInfo();case 5:n.next=11;break;case 7:return n.next=9,x["a"].postUnfollow({member_id:o});case 9:return n.next=11,e.info.actions.updateUserFollowerInfo();case 11:case"end":return n.stop()}}),n)})))()},onRouteToFindFollowers:function(){w["a"].push({name:j["a"].follower})},onSearch:function(){throw new y["a"]},setPlayerPage:o})}}),C=(o("f464"),o("6b0d")),S=o.n(C);const P=S()(F,[["render",m],["__scopeId","data-v-1b2d4e92"]]);t["default"]=P},"5bc7":function(e,t,o){},"6ce2":function(e,t,o){"use strict";o("b0c0");var n=o("f2bf");function a(e,t,o,a,l,r){var i=Object(n["resolveComponent"])("ProjectImage"),c=Object(n["resolveComponent"])("van-image");return e.imgUrl?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,width:e.size,height:e.size,fit:"contain",src:e.imgUrl,round:""},{error:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{width:e.size,height:e.size,name:e.name,round:""},null,8,["width","height","name"])]})),_:1},8,["width","height","src"])):(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:1,width:e.size,height:e.size,name:e.name,round:""},null,8,["width","height","name"]))}var l=o("d70b"),r=o("57ab"),i=Object(n["defineComponent"])({name:"AvatarImage",components:{ProjectImage:r["a"]},props:{avatarPath:{type:String,default:""},size:{type:String,default:"40"},name:{type:String,default:function(){return"avatar.svg"}}},setup:function(e){var t=Object(n["computed"])((function(){return e.avatarPath?l["s"]+e.avatarPath:""}));return{imgUrl:t}}}),c=o("6b0d"),s=o.n(c);const u=s()(i,[["render",a]]);t["a"]=u},"7c73d":function(e,t,o){"use strict";var n=o("f2bf"),a={class:"listTile"},l={class:"listTile__container"},r={class:"listTile__user"},i={class:"username"},c={class:"listTile__controls"};function s(e,t,o,s,u,d){var f=Object(n["resolveComponent"])("AvatarImage"),b=Object(n["resolveComponent"])("base-button");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("section",l,[Object(n["createVNode"])(f,{name:"avatar.png",avatarPath:e.avatarPath},null,8,["avatarPath"]),Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",i,Object(n["toDisplayString"])(e.username),1)]),Object(n["createElementVNode"])("div",c,[e.pIsFollow?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,onClick:Object(n["withModifiers"])(e.onAlreadyFollowing,["stop"]),surfaceShader:!0,shadowShader:!0,size:"normal"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])("".concat(e.$i18n.$t("following"))),1)]})),_:1},8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:1,onClick:Object(n["withModifiers"])(e.onFollow,["stop"]),surfaceShader:!1,shadowShader:!0,size:"normal"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])("".concat(e.$i18n.$t("follow"))),1)]})),_:1},8,["onClick"]))])])])}o("a9e3");var u=o("01cc"),d=o("6ce2"),f=o("ed48"),b=o("d03e"),m=Object(n["defineComponent"])({name:"MemberListTile",inheritAttrs:!0,components:{AvatarImage:d["a"],FlatButton:f["a"],BaseButton:b["a"]},props:{avatarPath:{type:String,default:""},username:{type:String,default:""},level:{type:Number,default:1},isFollowed:{type:Boolean,default:!1}},emits:["toggleFollowing","update:isFollowed"],setup:function(e,t){var o=t.emit,n=new u["a"],a=n.asVModel({props:e,propName:"isFollowed",emit:o});return{pIsFollow:a,onAlreadyFollowing:function(){console.log("pIsFolow:",a.value),o("toggleFollowing",!1),a.value=!1},onFollow:function(){console.log("pIsFolow:",a.value),o("toggleFollowing",!0),a.value=!0}}}}),p=(o("83c3"),o("6b0d")),g=o.n(p);const v=g()(m,[["render",s],["__scopeId","data-v-324536c2"]]);t["a"]=v},"83c3":function(e,t,o){"use strict";o("5bc7")},9739:function(e,t,o){},"98cb":function(e,t,o){},bef3:function(e,t,o){"use strict";o("9739")},ed48:function(e,t,o){"use strict";var n=o("f2bf"),a=["disabled","type"];function l(e,t,o,l,r,i){var c=Object(n["resolveComponent"])("svg-icon");return Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{class:Object(n["normalizeClass"])(["flat-button",[{active:e.active,block:e.block,shadow:e.shadow,disabled:e.disabled,prefix:e.prefix,suffix:e.suffix,loading:e.loading},"flat-button--".concat(e.color),"flat-button--".concat(e.type),"flat-button--".concat(e.size)]]),disabled:e.disabled,type:e.nativeType},[Object(n["renderSlot"])(e.$slots,"loading",{},(function(){return[e.loading?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,class:"loading-icon animate-spin",name:"loading",width:"16px",height:"16px"})):Object(n["createCommentVNode"])("",!0)]}),!0),Object(n["renderSlot"])(e.$slots,"prefix",{},(function(){return[e.prefix?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,class:"prefix-icon",name:e.prefix,width:e.iconSize+"px",height:e.iconSize+"px"},null,8,["name","width","height"])):Object(n["createCommentVNode"])("",!0)]}),!0),Object(n["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(n["renderSlot"])(e.$slots,"suffix",{},(function(){return[e.suffix?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,class:"suffix-icon",name:e.suffix,width:e.iconSize+"px",height:e.iconSize+"px"},null,8,["name","width","height"])):Object(n["createCommentVNode"])("",!0)]}),!0)],10,a)}o("a9e3");var r=Object(n["defineComponent"])({name:"FlatButton",props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary",validator:function(e){return-1!==["primary","secondary","light","dark"].indexOf(e)}},block:{type:Boolean,default:!1},type:{type:String,default:"normal",validator:function(e){return-1!==["text","normal"].indexOf(e)}},shadow:{type:Boolean,default:!1},size:{type:String,default:"medium",validator:function(e){return-1!==["medium","large","small"].indexOf(e)}},prefix:{type:String,default:""},suffix:{type:String,default:""},loading:{type:Boolean,default:!1},nativeType:{type:String,default:""},iconSize:{type:Number,default:18}},setup:function(){return{}}}),i=(o("bef3"),o("6b0d")),c=o.n(i);const s=c()(r,[["render",l],["__scopeId","data-v-d65d8290"]]);t["a"]=s},f464:function(e,t,o){"use strict";o("98cb")}}]);